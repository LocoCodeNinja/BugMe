<app-web-banner></app-web-banner>
<app-about-page></app-about-page>
<div class="mainStoreBody">
  <div class="filterCol">
    <div class="innerFilterCol">
      <div class="searchBox">
        <p>
          <input
            [(ngModel)]="searchQuery"
            placeholder="Search"
            (input)="applyFilters()"
          />
        </p>
      </div>
      <!-- <mat-expansion-panel expanded="true" class="filterPanel mat-elevation-z0">
        <mat-expansion-panel-header>Price Range</mat-expansion-panel-header>
        <p>
          <mat-checkbox
            [(ngModel)]="priceRange.$0_100"
            (change)="applyFilters()"
          >
            $0 - $100
          </mat-checkbox>
        </p>
        <p>
          <mat-checkbox
            [(ngModel)]="priceRange.$100_500"
            (change)="applyFilters()"
          >
            $100 - $500
          </mat-checkbox>
        </p>
        <p>
          <mat-checkbox
            [(ngModel)]="priceRange.$500_1000"
            (change)="applyFilters()"
          >
            $500 - $1000
          </mat-checkbox>
        </p>
      </mat-expansion-panel> -->
      <mat-divider></mat-divider>
      <ng-container>
        <mat-expansion-panel
          class="filterPanel mat-elevation-z0"
          disabled="{{ expansionPanel }}"
        >
          <mat-expansion-panel-header>Size</mat-expansion-panel-header>
          <p>
            <mat-checkbox [(ngModel)]="category.Tiny" (change)="applyFilters()">
              Tiny / 2.5"
            </mat-checkbox>
          </p>
          <p>
            <mat-checkbox
              [(ngModel)]="category.Small"
              (change)="applyFilters()"
            >
              Small / 3"-4"
            </mat-checkbox>
          </p>
          <p>
            <mat-checkbox
              [(ngModel)]="category.Medium"
              (change)="applyFilters()"
            >
              Medium / 5"-6"
            </mat-checkbox>
          </p>
          <p>
            <mat-checkbox
              [(ngModel)]="category.Large"
              (change)="applyFilters()"
            >
              Large / 8"-10"
            </mat-checkbox>
          </p>
        </mat-expansion-panel>
      </ng-container>
      <mat-divider></mat-divider>
    </div>
  </div>
  <div class="productCol">
    <div class="grid-container">
      <!-- Load by default -->
      <ng-container *ngIf="!searchPerformed && !isSizeFiltered()">
        <div
          class="grid-item"
          *ngFor="let item of productArray"
          (click)="saveItem(item)"
        >
          <button mat-button class="zoomable">
            <img src="{{ item.path }}" />
            <h2>{{ item.name }}</h2>
            <p>From ${{ item.price }}</p>
          </button>
        </div>
      </ng-container>
      <!-- Show when search is used or size filter is used -->
      <ng-container *ngIf="searchPerformed || isSizeFiltered()">
        <div
          class="grid-item"
          *ngFor="let item of filteredProducts"
          (click)="saveItem(item)"
        >
          <button mat-button class="zoomable">
            <img src="{{ item.path }}" />
            <h2>{{ item.name }}</h2>
            <p>From ${{ item.price }}</p>
          </button>
        </div>
      </ng-container>
    </div>
  </div>
</div>

<app-footer></app-footer>
